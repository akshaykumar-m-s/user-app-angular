{"ast":null,"code":"import _asyncToGenerator from \"/Users/akkumar/Desktop/user-app-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { UserData } from \"../../interfaces/user.interface\";\nimport { MAT_DIALOG_DATA } from \"@angular/material/dialog\";\nimport { Subscription } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/user.service\";\nimport * as i2 from \"@angular/material/dialog\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/material/button\";\nimport * as i6 from \"@angular/material/form-field\";\nimport * as i7 from \"@angular/material/input\";\nfunction EditDialogComponent_ng_container_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function EditDialogComponent_ng_container_12_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.createUser(ctx_r3.data));\n    });\n    i0.ɵɵtext(2, \"Create\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction EditDialogComponent_ng_template_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function EditDialogComponent_ng_template_13_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.updateUser(ctx_r5.data));\n    });\n    i0.ɵɵtext(1, \"Update\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class EditDialogComponent {\n  constructor(_userService, dialogRef, data) {\n    this._userService = _userService;\n    this.dialogRef = dialogRef;\n    this.data = data;\n    this.subscriptions = new Subscription();\n    console.log(\"Dialog\", this.data);\n  }\n  ngOnInit() {\n    if (!this.data) {\n      this.data = new UserData();\n    }\n  }\n  onNoClick() {\n    this.dialogRef.close();\n  }\n  updateUser(data) {\n    var _this = this;\n    this._userService.updateUser(data).subscribe( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (res) {\n        const response = yield res;\n        _this.dialogRef.close();\n      });\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n  }\n  createUser(data) {\n    var _this2 = this;\n    data.username = data.first_name.toLowerCase();\n    data.password = data.first_name.toLowerCase();\n    this._userService.createUser(data).subscribe( /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator(function* (res) {\n        const response = yield res;\n        _this2.dialogRef.close();\n      });\n      return function (_x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n  }\n  ngOnDestroy() {\n    this.subscriptions.unsubscribe();\n  }\n}\nEditDialogComponent.ɵfac = function EditDialogComponent_Factory(t) {\n  return new (t || EditDialogComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.MatDialogRef), i0.ɵɵdirectiveInject(MAT_DIALOG_DATA));\n};\nEditDialogComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EditDialogComponent,\n  selectors: [[\"app-edit-dialog\"]],\n  decls: 15,\n  vars: 5,\n  consts: [[\"mat-dialog-title\", \"\", 1, \"text-base\"], [\"mat-dialog-content\", \"\", 1, \"flex\", \"flex-col\", \"justify-center\"], [\"matInput\", \"\", \"placeholder\", \"First Name\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"matInput\", \"\", \"placeholder\", \"Last Name\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"matInput\", \"\", \"placeholder\", \"Email\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"mat-dialog-actions\", \"\", 1, \"flex\", \"flex-row\", \"justify-center\"], [\"mat-button\", \"\", 3, \"click\"], [4, \"ngIf\", \"ngIfElse\"], [\"elseTemplate\", \"\"], [\"mat-button\", \"\", \"color\", \"primary\", \"cdkFocusInitial\", \"\", 3, \"click\"], [\"mat-button\", \"\", \"color\", \"warn\", \"cdkFocusInitial\", \"\", 3, \"click\"]],\n  template: function EditDialogComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtext(1, \"User Details\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"div\", 1)(3, \"mat-form-field\")(4, \"input\", 2);\n      i0.ɵɵlistener(\"ngModelChange\", function EditDialogComponent_Template_input_ngModelChange_4_listener($event) {\n        return ctx.data.first_name = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(5, \"mat-form-field\")(6, \"input\", 3);\n      i0.ɵɵlistener(\"ngModelChange\", function EditDialogComponent_Template_input_ngModelChange_6_listener($event) {\n        return ctx.data.last_name = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"mat-form-field\")(8, \"input\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function EditDialogComponent_Template_input_ngModelChange_8_listener($event) {\n        return ctx.data.email = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(9, \"div\", 5)(10, \"button\", 6);\n      i0.ɵɵlistener(\"click\", function EditDialogComponent_Template_button_click_10_listener() {\n        return ctx.onNoClick();\n      });\n      i0.ɵɵtext(11, \"Cancel\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(12, EditDialogComponent_ng_container_12_Template, 3, 0, \"ng-container\", 7);\n      i0.ɵɵtemplate(13, EditDialogComponent_ng_template_13_Template, 2, 0, \"ng-template\", null, 8, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(14);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.data.first_name);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.data.last_name);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.data.email);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", !ctx.data.id)(\"ngIfElse\", _r1);\n    }\n  },\n  dependencies: [i3.NgIf, i4.DefaultValueAccessor, i4.NgControlStatus, i4.RequiredValidator, i4.NgModel, i5.MatButton, i2.MatDialogTitle, i2.MatDialogContent, i2.MatDialogActions, i6.MatFormField, i7.MatInput]\n});","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}