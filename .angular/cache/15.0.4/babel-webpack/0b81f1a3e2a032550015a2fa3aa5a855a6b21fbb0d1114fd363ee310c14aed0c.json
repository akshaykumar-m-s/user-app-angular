{"ast":null,"code":"import _asyncToGenerator from \"/Users/akkumar/Desktop/user-app-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { BehaviorSubject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common/http\";\nexport class AuthService {\n  constructor(_router, _httpClient) {\n    this._router = _router;\n    this._httpClient = _httpClient;\n    this.isLoginSubject = new BehaviorSubject(this.hasToken());\n  }\n  hasToken() {\n    return !!localStorage.getItem('token');\n  }\n  login(userCredentials) {\n    var _this = this;\n    this._httpClient.post('/login', userCredentials).subscribe( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (res) {\n        const response = yield res;\n        localStorage.setItem('token', response.token);\n        _this.isLoginSubject.next(true);\n        _this._router.navigate(['/user/list']);\n      });\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n  }\n  logout() {\n    localStorage.clear();\n    this.isLoginSubject.next(false);\n    this._router.navigate(['/auth/login']);\n  }\n  isLoggedIn() {\n    return this.isLoginSubject.asObservable();\n  }\n}\nAuthService.ɵfac = function AuthService_Factory(t) {\n  return new (t || AuthService)(i0.ɵɵinject(i1.Router), i0.ɵɵinject(i2.HttpClient));\n};\nAuthService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: AuthService,\n  factory: AuthService.ɵfac,\n  providedIn: 'root'\n});","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}